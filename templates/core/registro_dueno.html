{% extends 'base.html' %}

{% block title %}Registrar Cafetería - RutaCafé{% endblock %}

{% block content %}
<div class="min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8">
    <div class="max-w-4xl mx-auto">
        <div class="text-center mb-8">
            <i class="fas fa-store text-6xl text-coffee-600 mb-4"></i>
            <h2 class="text-3xl font-extrabold text-gray-900">
                Registra tu Cafetería
            </h2>
            <p class="mt-2 text-sm text-gray-600">
                Únete a la red de cafeterías más grande de Sucre
            </p>
        </div>

        <div class="bg-white shadow-xl rounded-lg p-8">
            <form method="post" class="space-y-8">
                {% csrf_token %}
                
                {% if form.non_field_errors %}
                    <div class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded">
                        {{ form.non_field_errors }}
                    </div>
                {% endif %}

                <!-- Datos de la cuenta -->
                <div class="border-b border-gray-200 pb-6">
                    <h3 class="text-lg font-medium text-gray-900 mb-4">
                        <i class="fas fa-user mr-2"></i>Datos de la Cuenta
                    </h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Usuario</label>
                            {{ form.username }}
                            {% if form.username.errors %}
                                <p class="text-red-600 text-xs mt-1">{{ form.username.errors }}</p>
                            {% endif %}
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                            {{ form.email }}
                            {% if form.email.errors %}
                                <p class="text-red-600 text-xs mt-1">{{ form.email.errors }}</p>
                            {% endif %}
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Contraseña</label>
                            {{ form.password1 }}
                            {% if form.password1.errors %}
                                <p class="text-red-600 text-xs mt-1">{{ form.password1.errors }}</p>
                            {% endif %}
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Confirmar Contraseña</label>
                            {{ form.password2 }}
                            {% if form.password2.errors %}
                                <p class="text-red-600 text-xs mt-1">{{ form.password2.errors }}</p>
                            {% endif %}
                        </div>
                    </div>
                </div>

                <!-- Datos personales -->
                <div class="border-b border-gray-200 pb-6">
                    <h3 class="text-lg font-medium text-gray-900 mb-4">
                        <i class="fas fa-id-card mr-2"></i>Datos Personales
                    </h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Nombre</label>
                            {{ form.first_name }}
                            {% if form.first_name.errors %}
                                <p class="text-red-600 text-xs mt-1">{{ form.first_name.errors }}</p>
                            {% endif %}
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Apellido</label>
                            {{ form.last_name }}
                            {% if form.last_name.errors %}
                                <p class="text-red-600 text-xs mt-1">{{ form.last_name.errors }}</p>
                            {% endif %}
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Teléfono</label>
                            {{ form.telefono }}
                            {% if form.telefono.errors %}
                                <p class="text-red-600 text-xs mt-1">{{ form.telefono.errors }}</p>
                            {% endif %}
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Cédula</label>
                            {{ form.cedula }}
                            {% if form.cedula.errors %}
                                <p class="text-red-600 text-xs mt-1">{{ form.cedula.errors }}</p>
                            {% endif %}
                        </div>
                        <div class="md:col-span-2">
                            <label class="block text-sm font-medium text-gray-700 mb-1">Dirección Personal</label>
                            {{ form.direccion_personal }}
                            {% if form.direccion_personal.errors %}
                                <p class="text-red-600 text-xs mt-1">{{ form.direccion_personal.errors }}</p>
                            {% endif %}
                        </div>
                    </div>
                </div>

                <!-- Datos de la cafetería -->
                <div class="border-b border-gray-200 pb-6">
                    <h3 class="text-lg font-medium text-gray-900 mb-4">
                        <i class="fas fa-coffee mr-2"></i>Datos de la Cafetería
                    </h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="md:col-span-2">
                            <label class="block text-sm font-medium text-gray-700 mb-1">Nombre de la Cafetería</label>
                            {{ form.nombre_cafeteria }}
                            {% if form.nombre_cafeteria.errors %}
                                <p class="text-red-600 text-xs mt-1">{{ form.nombre_cafeteria.errors }}</p>
                            {% endif %}
                        </div>
                        <div class="md:col-span-2">
                            <label class="block text-sm font-medium text-gray-700 mb-1">Descripción</label>
                            {{ form.descripcion_cafeteria }}
                            {% if form.descripcion_cafeteria.errors %}
                                <p class="text-red-600 text-xs mt-1">{{ form.descripcion_cafeteria.errors }}</p>
                            {% endif %}
                        </div>
                        <div class="md:col-span-2">
                            <label class="block text-sm font-medium text-gray-700 mb-1">Dirección de la Cafetería</label>
                            {{ form.direccion_cafeteria }}
                            {% if form.direccion_cafeteria.errors %}
                                <p class="text-red-600 text-xs mt-1">{{ form.direccion_cafeteria.errors }}</p>
                            {% endif %}
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Teléfono de la Cafetería</label>
                            {{ form.telefono_cafeteria }}
                            {% if form.telefono_cafeteria.errors %}
                                <p class="text-red-600 text-xs mt-1">{{ form.telefono_cafeteria.errors }}</p>
                            {% endif %}
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Zona</label>
                            {{ form.zona }}
                            {% if form.zona.errors %}
                                <p class="text-red-600 text-xs mt-1">{{ form.zona.errors }}</p>
                            {% endif %}
                        </div>
                        <div class="md:col-span-2">
                            <label class="block text-sm font-medium text-gray-700 mb-1">Horario de Atención</label>
                            {{ form.horario_atencion }}
                            {% if form.horario_atencion.errors %}
                                <p class="text-red-600 text-xs mt-1">{{ form.horario_atencion.errors }}</p>
                            {% endif %}
                        </div>
                    </div>
                </div>

                <!-- Características -->
                <div>
                    <h3 class="text-lg font-medium text-gray-900 mb-4">
                        <i class="fas fa-check-circle mr-2"></i>Características
                    </h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="flex items-center">
                            {{ form.wifi }}
                            <label for="{{ form.wifi.id_for_label }}" class="ml-2 text-sm text-gray-700">
                                <i class="fas fa-wifi mr-1"></i>WiFi Gratuito
                            </label>
                        </div>
                        <div class="flex items-center">
                            {{ form.terraza }}
                            <label for="{{ form.terraza.id_for_label }}" class="ml-2 text-sm text-gray-700">
                                <i class="fas fa-umbrella-beach mr-1"></i>Terraza
                            </label>
                        </div>
                        <div class="flex items-center">
                            {{ form.estacionamiento }}
                            <label for="{{ form.estacionamiento.id_for_label }}" class="ml-2 text-sm text-gray-700">
                                <i class="fas fa-parking mr-1"></i>Estacionamiento
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Términos y condiciones -->
                <div class="bg-yellow-50 border border-yellow-200 rounded p-4">
                    <div class="flex">
                        <i class="fas fa-info-circle text-yellow-600 mt-1 mr-2"></i>
                        <div class="text-sm text-yellow-800">
                            <p class="font-medium mb-2">Importante:</p>
                            <ul class="list-disc list-inside space-y-1">
                                <li>Tu solicitud será revisada por nuestro equipo de administración</li>
                                <li>Recibirás un email de confirmación cuando sea aprobada</li>
                                <li>Una vez aprobado, podrás gestionar tu cafetería y productos</li>
                                <li>El proceso de revisión toma entre 24-48 horas</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Botones -->
                <div class="flex justify-between pt-6">
                    <a href="{% url 'home' %}" class="px-6 py-3 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition duration-200">
                        <i class="fas fa-arrow-left mr-2"></i>Cancelar
                    </a>
                    <button type="submit" class="px-8 py-3 bg-coffee-600 text-white rounded-md hover:bg-coffee-700 transition duration-200">
                        <i class="fas fa-paper-plane mr-2"></i>Enviar Solicitud
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<style>
.form-control {
    @apply w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-coffee-500 focus:border-coffee-500;
}

input[type="checkbox"] {
    @apply h-4 w-4 text-coffee-600 focus:ring-coffee-500 border-gray-300 rounded;
}
</style>
{% endblock %}